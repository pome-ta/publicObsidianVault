WebWorker で、[codemirror/lsp-client](https://github.com/codemirror/lsp-client) を動かす。

ブラウザのみで完結させるために、WebSocket ではなくWebWorker を使って、Codemirror でLSP をする。


## モジュール


### VFS


[TypeScript: Developers - TypeScript VFS](https://www.typescriptlang.org/dev/typescript-vfs/)

[@typescript/vfs - npm](https://www.npmjs.com/package/@typescript/vfs)

[TypeScript-Website/packages/typescript-vfs at v2 · microsoft/TypeScript-Website · GitHub](https://github.com/microsoft/TypeScript-Website/tree/v2/packages/typescript-vfs)


### vscode-jsonrpc

JSON-RPC 通信

[vscode-jsonrpc - npm](https://www.npmjs.com/package/vscode-jsonrpc)

[vscode-languageserver-node/jsonrpc at main · microsoft/vscode-languageserver-node · GitHub](https://github.com/microsoft/vscode-languageserver-node/tree/main/jsonrpc)

### vscode-languageserver-protocol

LSP メッセージ定義

[vscode-languageserver-protocol - npm](https://www.npmjs.com/package/vscode-languageserver-protocol)

[vscode-languageserver-node/protocol at main · microsoft/vscode-languageserver-node · GitHub](https://github.com/microsoft/vscode-languageserver-node/tree/main/protocol)


### ATA

[@typescript/ata - npm](https://www.npmjs.com/package/@typescript/ata)

[TypeScript-Website/packages/ata at v2 · microsoft/TypeScript-Website · GitHub](https://github.com/microsoft/TypeScript-Website/tree/v2/packages/ata)


## いまのコードの気づき

- テストの入り口を本番に近づける？
- 真ん中を使っていく感じ？
- 本番のディレクトリ構成とさせる？
- VFS もあるが、JSON-RPC 通信を意識する？

### 懸念

- CDN 読み込み用にVFS にバッファ持たせている
- `'worker/ready'` の意味の持たせ方
- まだ、読み込ませてないモジュールがある