```
root/
  - moduleA
  - moduleB
  - dirA
    - main.py
```

```python
top_dir_name = 'root'

if not __loader__.path[:__loader__.path.rfind('/')].endswith(top_dir_name):
  import pathlib
  import sys

  __cwd = pathlib.Path.cwd()
  __depth_count = str(__cwd).count('/')
  __range = range(__depth_count)
  __top_path = next(
    (__dir
     for n in __range if (__dir := __cwd.parents[n]).name == top_dir_name),
    None)
  sys.path.append(str(__top_path))


import moduleA
```

`main.py` を実行して、`moduleA` をimport できるようにしてる。この方法が悪手なのは、理解してる。しかしこの方法（`sys.path.append` ）しかないので、採用している。

また、`for` と`if` の処理は、`main.py` がどんなに深い階層であっても取得できるようにしてる。



あなたに聞きたいことは、`moduleA` と`moduleB` のmodule と並列して`dirA`  （実行するためのコードがあるディレクトリ）を置くのは妥当か？
もしくは、`moduleA` と`moduleB` を`modules` みたいな名前のディレクトリに格納して、呼び出すようなディレクトリ構成にした方がいいのか？


意見を聞きたい。




