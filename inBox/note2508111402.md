# p5.sound 写経メモ
#p5Sound #p5js #github 


[codemirror6sandbox](https://pome-ta.github.io/p5js4codemirror6/) を使って、[p5.js Web Editor | p5.sound.js](https://editor.p5js.org/thomasjohnmartinez/collections/Dp0zGclVL) のサンプルコードを写経。

[GitHub - pome-ta/p5js4codemirror6](https://github.com/pome-ta/p5js4codemirror6)

## リポジトリ

[GitHub - pome-ta/p5SketchBook](https://github.com/pome-ta/p5SketchBook)

### 写経場所

[p5SketchBook/sounds/exampleOnEditor at main · pome-ta/p5SketchBook · GitHub](https://github.com/pome-ta/p5SketchBook/tree/main/sounds/exampleOnEditor)

### 変更点

サンプルコードの一部に変更・追加をしている。使用エディタの仕様や、モバイル対応のため。

- global mode ではなく、instance mode で記述
- 
- `soundReset()` と`window._cacheSounds`
    - ソースコード再読み込み時、その前のWeb Audio API をリセット
- `loadModule`
    - dynamic import で、独自module を取得
    - `PointerTracker`
        - クリックとタップを統合
        - `draw` 時に、`pointerTracker.updateXY()`
- キャンバスサイズは面倒なので、画面フルサイズ
    - `p.text` の位置情報を雑に調整


## [001-Oscillator-FrequencyAmplitude.js](https://github.com/pome-ta/p5SketchBook/blob/main/sounds/exampleOnEditor/001-Oscillator-FrequencyAmplitude.js)

`mousePressed` したら、音が出る。画面位置により、hz と音量変更。
