# p5.js Web Editor

エディタ部分をcodemirror とかに置き換えたい

[GitHub - processing/p5.js-web-editor: The p5.js Editor is a website for creating p5.js sketches, with a focus on making coding accessible and inclusive for artists, designers, educators, beginners, and anyone else! You can create, share, or remix p5.js sketches without needing to download or configure anything.](https://github.com/processing/p5.js-web-editor)


# リポジトリ調査

## ブラウザエディタで見えてるもの

ブラウザエディタ上で登場する、スクリプトが記述されている場所はどこか？

```js
function setup() {
  createCanvas(400, 400);
}

function draw() {
  background(220);
}
```

[p5.js-web-editor/server/domain-objects/createDefaultFiles.js](https://github.com/processing/p5.js-web-editor/blob/develop/server/domain-objects/createDefaultFiles.js "createDefaultFiles.js")


`.html` としている内容もここに書かれてた


`createDefaultFiles` として、返している

## `domain-objects/`

- `__test__` ディレクトリ
  - `Project.js` を`import` してtest してる
    - `containsRootHtmlFile` , `toModel` , `transformFiles` , `FileValidationError` を使ってUI 作ってる感じ？
    - 他のコードからtest の実装を探せば、追っかけできるかも
  - ちゃんと読めば失敗させる動きがわかるかも？
- `Project.js`
  - `Object.entries` とかのjs の`Object` しぐさ理解してないか勉強か、、、
- `createDefaultFiles.js`


### `lodash` って何だっけ？

#### とりまググり

検索結果の適当なピックアップ

- [Lodash](https://lodash.com/)
- [【JavaScript】lodashの使い方 #JavaScript - Qiita](https://qiita.com/sosomuse/items/a08e28def541c28458a0)
- [Lodashで使える便利な関数と代替可能なJavaScriptの標準機能](https://zenn.dev/cti1650/articles/lodash_functions)

#### 使われている関数

##### `isPlainObject`

[isPlainObject | Lodash Documentation](https://lodash.com/docs/4.17.15#isPlainObject)

##### `pick`

[pick | Lodash Documentation](https://lodash.com/docs/4.17.15#pick)

### `Object(.entries)`


## build 

そもそも、build をしたら、どのように吐き出されるのかを確認したい。

`server` ディレクトリにある。どのような処理だから、`server` となるのか？

が、カジュアルにbuild できないんよなぁ


[p5.js-web-editor/contributor_docs/README.md at develop · processing/p5.js-web-editor · GitHub](https://github.com/processing/p5.js-web-editor/blob/develop/contributor_docs/README.md)

ここ読めば、いろいろと判明するかな？


#p5js #editor #js #codemirror #draft #github 
